!function(e){function t(i){if(n[i])return n[i].exports;var a=n[i]={exports:{},id:i,loaded:!1};return e[i].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}var a=n(1),o=i(a),r=n(2),s=i(r);s["default"].push({name:"ascii",code:[65,83,67,73,73],action:function(){console.log("YASS");var e=document.querySelectorAll("img"),t=document.querySelectorAll('[style*="background"]');document.querySelectorAll("video");Array.from(e,function(e){new o["default"](e)}),Array.from(t,function(e){new o["default"](e)})}})},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(){function e(t){switch(n(this,e),this.elem=t,this.baseCharWidth=9,this.calculateCharSize(),this.charSize={w:5.40625,h:9},t.nodeName.toLowerCase()){case"img":this.img=t,this.processImage();break;case"video":this.processVideo();break;default:this.processBackground()}}return i(e,[{key:"calculateCharSize",value:function(){var e=document.createElement("pre"),t={w:void 0,h:void 0};e.textContent="O",e.style.fontSize=this.baseCharWidth+"px",e.style.lineHeight="1em",e.style.position="absolute",document.body.appendChild(e),t.w=e.getBoundingClientRect().width,t.h=e.getBoundingClientRect().height,document.body.removeChild(e),this.charSize=t}},{key:"createCanvas",value:function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,n}},{key:"getTaintFreeImage",value:function(e){var t,n=e.src;url=n.replace("http://hugeinc.dev.hugeops.com","http://d249o6o0sttdia.cloudfront.net"),url+="?http_"+window.location.hostname,t=new XMLHttpRequest,t.open("GET",url,!0),t.onload=function(){t.status>=200&&t.status<400&&console.log(t)},t.onerror=function(){},t.send()}},{key:"convertToASCII",value:function(){var e,t,n,i=this.canvas.width/this.charSize.w,a=this.canvas.height/this.charSize.h,o=this.createCanvas(i,a),r=o.getContext("2d");this.context.fillStyle="#fff",this.context.fillRect(0,0,this.canvas.width,this.canvas.height),this.context.font=this.baseCharWidth+"px monospace",this.context.fillStyle="#000",r.drawImage(this.img,0,0,i,a),n=r.getImageData(0,0,i,a).data;for(var s=0,c=0;a>c;c++){e="";for(var l=0;i>l;l++)t=this.colorToChar(n[s],n[s+1],n[s+2]),e+=t,s+=4;this.context.fillText(e,0,c*this.charSize.h)}}},{key:"colorToChar",value:function(e,t,n){var i=3*e+4*t+n>>>3;return"@GLftli;:,. "[Math.floor(i/256*12)]}},{key:"generateASCIIimage",value:function(){var e=this.img.naturalWidth,t=this.img.naturalHeight;this.canvas=this.createCanvas(e,t),this.context=this.canvas.getContext("2d"),this.context.drawImage(this.img,0,0,this.canvas.width,this.canvas.height),this.convertToASCII()}},{key:"processImage",value:function(){this.generateASCIIimage(),this.elem.parentNode.replaceChild(this.canvas,this.elem)}},{key:"processBackground",value:function(){var e=this.elem.style.backgroundImage.slice(4,-1),t=function(){this.generateASCIIimage(),this.elem.style.backgroundImage="url("+this.canvas.toDataURL()+")",this.img.removeEventListener("load",t),this.img=void 0}.bind(this);this.img=new Image,this.img.addEventListener("load",t),this.img.src=e}},{key:"processVideo",value:function(){function e(){n=Math.floor(o.clientWidth/r.charSize.w),i=Math.floor(o.clientHeight/r.charSize.h),s.width=n,s.height=i,t(o,a,c,n,i)}function t(e,n,i,a,o){var s,c=[];if(e.paused||e.ended)return!1;i.crossOrigin="Anonymous",i.drawImage(e,0,0,a,o),s=i.getImageData(0,0,a,o).data;for(var l=0;o>l;l++){for(var h=0;a>h;h++){var u=4*(l*a+h);c.push(r.colorToChar(s[u],s[u+1],s[u+2]))}c.push("<br>")}n.innerHTML=c.join(""),setTimeout(t,50,e,n,i,a,o)}var n,i,a,o=this.elem,r=this,s=document.createElement("canvas"),c=s.getContext("2d");a=document.createElement("pre"),a.style.fontFamily="monospace",a.style.fontSize=this.baseCharWidth+"px",a.style.position="absolute",a.style.top="100px",o.style.opacity=0,o.parentNode.insertBefore(a,o.nextSibling),o.addEventListener("play",e,!1),o.paused||e()}}]),e}();t["default"]=a},function(e,t){"use strict";function n(e){var t,n=[],a=1;window.document.addEventListener("keydown",function o(e){if(n.length){for(t=n.length;t--;)e.keyCode===n[t].code[a]?a===n[t].code.length-1&&(window.document.removeEventListener("keydown",o),n[t].action.call(),n=[]):n.splice(t,1);a=n.length?a+1:1}else for(t=i.length;t--;)e.keyCode===i[t].code[0]&&n.push(i[t])})}Object.defineProperty(t,"__esModule",{value:!0});var i=[];i.push({name:"monochrome",code:[77,79,78,79,67,72,82,79,77,69],action:function(){console.log("activating monochrome...");var e=document.createElement("style");e.innerHTML="body { -webkit-filter: grayscale(100%);  -moz-filter: grayscale(100%); -ms-filter: grayscale(100%); -o-filter: grayscale(100%); filter: grayscale(100%); filter: gray; }",document.head.appendChild(e)}}),i.push({name:"sepia",code:[83,69,80,73,65],action:function(){console.log("activating sepia...");var e=document.createElement("style");e.innerHTML="body { -webkit-filter: sepia(100%);  -moz-filter: sepia(100%); -ms-filter: sepia(100%); -o-filter: sepia(100%); filter: sepia(100%); filter: sepia; }",document.head.appendChild(e)}}),i.push({name:"acid",code:[65,67,73,68],action:function(){}}),i.push({name:"seasick",code:[83,69,65,83,73,67,75],action:function(){}}),n(),t["default"]=i}]);